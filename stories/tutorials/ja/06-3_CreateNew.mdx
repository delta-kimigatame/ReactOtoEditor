import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Tutorial/ja/06-3.新規作成する" />

# 新規作成する(自動設定)

フォルダ内にoto.iniがない場合、Laberuが自動で作ってくれます。
1つの音声ファイルに1つの音を割り当てる **単独音(CV)** を作る時に使います。

例えば、こんなファイルがあるとします：
- `a.wav` → エイリアス「a」
- `あ.wav` → エイリアス「あ」
- `ka.wav` → エイリアス「ka」

ファイル名（拡張子の.wavを除いた部分）がそのままエイリアスになります。

## こんな時に使います

- ✅ **初めて単独音（CV）のoto.iniを作る**
- ✅ **フォルダ内にoto.iniがない**
- ✅ **1つのwavファイルに1つの音が入っている**

## 手順

### 1. 読み込み方法を選ぶ

ダイアログ上部のタブから「**生成**」を選びます。

### 2. エイリアスの設定方法を選ぶ

音の名前（エイリアス）をどう決めるか選びます。

<div style={{marginTop: '16px', marginBottom: '16px', border: '1px solid #ddd', borderRadius: '8px', overflow: 'hidden', height: '600px'}}>
  <iframe 
    src="iframe.html?id=components-targetdirdialog-targetdirdialog--make-tab-single-selected&viewMode=story" 
    style={{width: '100%', height: '100%', border: 'none', pointerEvents: 'none'}}
    title="生成方法選択画面"
  />
</div>

#### 基本: ファイル名から自動設定

最もシンプルな方法です。

- **a.wav** → エイリアス「a」
- **あ.wav** → エイリアス「あ」
- **ka.wav** → エイリアス「ka」

ファイル名の拡張子（.wav）を除いた部分がそのままエイリアスになります。

> 📝 **おすすめ**: 初めての方や、単独音（CV）の音源を作る場合はこの方法が最適です。

### 3. パラメータの自動計算を選ぶ

画面下部に2つのチェックボックスがあります：

#### ✅ wavを解析して補正

チェックを入れると、音声ファイルの波形を自動で解析してパラメータを計算します。

**チェックを外す**と、パラメータは全部0に設定されます（例：`a.wav=a,0,0,0,0,0`）。
音は出ますがまともには歌わないので、あくまで「これから原音設定を始めるための準備」です。

> 💡 **どっちを選ぶ？**
> - **解析あり**: 自動計算してくれるので楽。ただし精度は「やらないよりマシ」程度
> - **解析なし**: 全部0から手動で設定。完全に自分でコントロールしたい場合に

どちらを選んでも、**必ず編集画面で音を聞きながら調整が必要**です。

> 📝 パラメータの詳しい意味については、**[3.原音設定とは](/docs/tutorial-ja-03-原音設定とは--docs)** を参照してください。

#### ⚪ ファイル名頭の数字を無視する

チェックを入れると、ファイル名の先頭にある数字を無視してエイリアスを設定します。

例えば：
- `01_a.wav` → エイリアス「a」
- `02_あ.wav` → エイリアス「あ」
- `03_ka.wav` → エイリアス「ka」

録音ソフトなどで自動的に連番が付けられたファイルを扱う時に便利です。

> 📝 ファイル名に連番がない場合は、チェックを外したままで大丈夫です。

### 4. 「生成」で編集開始

設定が決まったら「**生成**」ボタンをタップします。
Laberuが自動的にoto.iniを作成して、編集画面に進みます。

## より高度な自動設定

基本的な自動設定に慣れてきたら、より詳しい設定もできます：

- **[7-2.複数エイリアスを設定する](/docs/tutorial-ja-07-2-複数エイリアスを設定する--docs)** - 1つのwavに複数の音を設定（自動設定の応用）
- **[8.自動生成の高度なカスタマイズ](/docs/tutorial-ja-08-otoiniの高度なカスタマイズ--docs)** - 自動生成時のパラメータ初期値を細かく制御

## 次のステップ

自動設定でoto.iniを作ったら、実際の音を聞きながら微調整していきましょう。
編集画面の使い方は、後のチュートリアルで詳しく解説します。

---

- 前のページ: [6-2.既存のoto.iniを使う](/docs/tutorial-ja-06-2-既存のotoiniを使う--docs)
- 次のページ: [7-1.履歴から続きを始める](/docs/tutorial-ja-07-1-履歴から続きを始める--docs)
